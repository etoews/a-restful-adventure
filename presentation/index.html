<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>A RESTful Adventure</title>

    <meta name="description" content="A REST workshop that guides participants through the design and implementation of a simple adventure game.">
    <meta name="author" content="Kurt Griffiths and Everett Toews">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/night.css" id="theme">
    <link rel="stylesheet" href="css/custom.css">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
        <section id="welcome">
          <h1>A RESTful Adventure</h1>
          <center>
            <table>
              <tbody>
                <tr>
                  <td>Kurt Griffiths</td>
                  <td><a href="https://twitter.com/kgriffs">@kgriffs</a></td>
                </tr>
                <tr>
                  <td>Everett Toews</td>
                  <td><a href="https://twitter.com/everett_toews">@everett_toews</a></td>
                </tr>
              </tbody>
            </table>
          </center>
          <aside class="notes">
            [15 sec]
            <ul>
              <li>Welcome to the RESTful Adventure workshop.</li>
              <li>[introduce the instructors]</li>
              <li>Over the next couple of hours we will take you on a journey through the creative process of designing and implementating a simple adventure game.</li>
            </ul>
          </aside>
        </section>

        <section>
          <h1>Goal</h1>
          <h3>Design and Implement</h3>
          <h3>a RESTful API</h3>
        </section>

        <section>
          <p>
            <span class="big">‚ò∫</span>
            <span class="fragment big">+ùì°</span>
            <span class="fragment big">=‚òÅ</span>
          </p>
          <aside class="notes">
            [30 sec]
            <ul>
              <li>You'll learn how to combine a user-oriented perspective with the principles of REST to create elegant web services.</li>
              <li>Web services that are elastic, maintainable and reliable.</li>
            </ul>
          </aside>
        </section>

        <section>
          <h1>Agenda</h1>
          <ol>
            <li><a href="#/rest">REST Fundamentals</a></li>
            <li><a href="#/design">Design the API</a></li>
            <li><a href="#/break">Break</a></li>
            <li><a href="#/impl">Implement the Design</a></li>
            <li><a href="#/conclusion">Conclusion</a></li>
            <li><a href="#/qa">Q &amp; A</a></li>
          </ol>
        </section>

        <section id="rest">
          <h1>REST Fundamentals</h1>
        </section>

        <section>
          <section>
            <img width="400" height="345" src="img/that-word-rest.jpg"/>
            <aside class="notes">

              <ul>
                <li>REST is often misunderstood</li>
              </ul>
            </aside>

          </section>

          <section>
            <img height="345" src="img/eniac.jpg"/>
            <aside class="notes">

              <ul>
                <li>So, before we go any further, we need to rewire our brains a little bit.</li>
              </ul>
            </aside>
          </section>
          <section>
            <h2>REST is not</h2>
            <p>
              <span class="fragment">[URL|RPC|CRUD] over </span> HTTP
            </p>
            <aside class="notes">
              <ul>
                <li>REST is not HTTP - HTTP APIs are not inherently RESTful.</li>
                <li>REST is not pretty URLs.</li>
                <li>REST is not RPC over HTTP. We aren't talking about calling remote functions on a server.</li>
                <li>And finally, REST is not simply a way to do CRUD over HTTP.</li>
              </ul>
            </aside>
          </section>
          <section>
            <h2>REST is</h2>
            <ul>
              <li class="fragment">An architectural style for network-based applications</li>
              <li class="fragment">A set of constraints formalized by Roy Fielding</li>
              <li class="fragment">A counterpoint to RPC</li>
            </ul>
            <aside class="notes">
              <ul>
                <li>REST is an architectural style that formalizes the concepts behind the way the web was intended to work. It acts as a guide for designing systems that embody the best characteristics of the web.</li>
                <li>REST was defined by one of the early pioneers of the web, Roy Fielding, in his doctoral dissertation.</li>
                <li>REST avoids the brittleness, scalability, and maintainability problems typical of RPC-based architectures. Rather than thinking about "functions" or "endpoints", as you would in RPC, you think in terms of "resources" and "links".</li>
              </ul>
            </aside>
          </section>
        </section>

        <section>
          <h2>Constraints</h2>
          <blockquote cite="http://www.brainyquote.com/quotes/quotes/w/waltwhitma136364.html">
            &ldquo;The shallow consider liberty a release from all law, from every constraint. The wise man sees in it, on the contrary, the potent Law of Laws.&rdquo;
          </blockquote>
          <p>- Walt Whitman</p>
          <aside class="notes">
            <ul>
              <li>REST is defined by a set of 6 architectural constraints.</li>
              <li>Taken together, these contraints provide a mold for RESTful applications.</li>
            </ul>
          </aside>
        </section>
        <section>
          <p>[TODO: pair down content to fit within time]</p>
          <ul class="no-bullets inline-h3">
            <li>üçú Client-Server</li>
            <li class="fragment">üêò Stateless</li>
            <li class="fragment">üì¶ Cache</li>
            <li class="fragment">üéπ Uniform Interface</li>
            <li class="fragment">üîó Layering</li>
            <li class="fragment">üéÆ Code-on-Demand</li>
          </ul>

          <aside class="notes">
            <ul>
              <li>Client-Server: This is all about creating a clear separation of concerns, which affords independent evolution and management between client and server. For example, when I sit down at my local Ramen shop, a server brings me a menu of options. I choose from the list of options and place my order. The server then goes off to interface with the backend kitchen services on my behalf. I don't need to know or care how my food is prepared, just that I get what I ordered in a timely manner.</li>
              <li>Stateless: This doesn't mean that your system has no state, just that there is no state shared between individual requests. Transports are unreliable, so you want to avoid embedding state in them. The client is like an elephant that never forgets; the client is responsible for remembering its own session state, and including that information in every request to the server. If a server goes down, a client should be able to provide its session state to a different server in the pool and get the same answer back as it would have from the failed box. If a client crashes or it's network connection fails, it should be able to pick up later where it left off.</li>
              <li>Cache: The idea here is to stock your goods as close to the consumer as possible, to reduce latency and transportation costs. For example, when I click "buy" on Amazon, the fulfillment system routes my order to the warehouse closest to my home that has my item in stock. Amazon regularly caches popular goods in warehouses as close to the consumer as they can get them. REST provides for caching by constraining systems to explicitly define caching parameters through the uniform interface.</li>
              <li>Uniform Interface: The idea here is to provide a set of ground-rules, an <em>a-priori</em> baseline of syntax and semantics. A pianist can sit down at any piano and know what to do. The mechanisms under the lid can and do vary wildly, but the meaning and layout of the keys remain the same. For REST this means a shared language of identifiers, methods, and media types.</li>
              <li>Layering: This extends Client-Server to create a chain of clients and servers, each exposing the same interface. It's like a recursive function. DNS works like this. When I want to find rackspace.com, I'll usually ask a local DNS server for the address. If the local DNS server doesn't know the IP address for my domain, it will act like a client and query another DNS server for the information, and so on and so forth.</li>
              <li>Code-on-Demand: This is an optional constaint that allows the server to delegate processing to clients when that is more efficient, and to also provide dynamic logic to augment the client's limited abilities to understand and process resources provided by the service. When it comes to the web, this constraint people usually equite code-on-demand to JavaScript, but there isn't any reason why it can't be used in other contexts. For example, game engines typically rely on scripts to orchestrate gameplay. These scripts can be delivered dynamically from the server to the client.</li>
            </ul>
          </aside>
        </section>

        <section>
          <h2>Elements of the Uniform Interface</h2>
        </section>

        <section>
          <p>[draw a big-picture diagram here, then point out the elements and talk about them briefly]</p>
          <p>[TODO: pair down content to fit within time]</p>

<!--
          <h3 class="fragment">Components</h3>
          <h3 class="fragment">Connectors</h3>
          <h3 class="fragment">Resources</h3>
          <h3 class="fragment">Representations</h3>
          <h3 class="fragment">Control Data</h3>
          <h3 class="fragment">Hypermedia</h3>
 -->
          <aside class="notes">
            <ul>
              <li>REST components categorize individual nodes into various roles, with each role conveying a specific set of expectations. Examples of components include origin servers, user agents, gateways, and proxies.</li>
              <li>REST connectors define the types of actions a node performs, such as caching or acting as a client or server. A given component may implement one or more connectors.</li>
              <li>Resources are client-facing models that map in some way to backend data entities. The mapping can be n-to-n and involve any number of transformations and amalgamations. Each resource is identified by a unique, opaque identifier, typically a URL. REST does not dictate a particular URL schema, although it can be helpful to adopt a human-friendly format, as we'll see later on. It's important to note here that the server has complete ownership of this identifier, which means that the client never constructs it, but simply "copies and pastes" identifiers it recieves from previous requests to the server. This makes it easier to evolve your API without breaking clients.</li>
              <li>Representations are snapshots of a resource at a point in time. A single resource can have multiple representations, such as JSON, PNG, or HTML. These representations are formalized as Internet media types. The client and server perform content negotiation to determine the desired representation.</li>
              <li>Control data is passed along with requests and responses to specify general semantics and to modify the default behavior of connectors. In HTTP, examples of control data include the HTTP method (e.g., GET and POST) and conditional headers, such as If-None-Match.</li>
              <li>Hypermedia is one of the most often ignored aspects of REST. This is ironic, because hypermedia is probably the most important difference between REST and other architectural styles, such as RPC. Rather than relying on brittle endpoint specifications, REST uses hypermedia to identify resources and provide a living web of links that clients traverse in order to change application state. The server may provide different links to the client according to the current state of the system. In this way, REST-based systems can be very flexible, allowing different components of the system to evolve somewhat independently.</li>
            </ul>
          </aside>
        </section>

        <section id="design">
          <h1>Design the API</h1>
        </section>

        <section>
          <img src="img/zork.jpg">
        </section>

        <section>
          <h1>Requirements</h1>
        </section>

        <section>
          <h1>Use Cases</h1>

          <aside class="notes">
          	<ul>
          		<li>Who is your audience?</li>
							<li>Not necessarily designing the API for everyone</li>
							<li>Stick to known use cases without designing yourself into a corner</li>
						</ul>
          </aside>
        </section>

        <section>
          <h1>Example</h1>
          <p><a href="https://github.com/everett-toews/a-restful-adventure/blob/gh-pages/design/use-cases.md">Safely navigate a dungeon from start to finish</a></p>
        </section>

        <section>
          <h1>Brainstorming</h1>

          <aside class="notes">
          	<ul>
							<li>Simple tools like text editors</li>
							<li>Identifying resources</li>
							<li>Typing out a list of URLs</li>
							<li>Mocking up some sample JSON resources</li>
							<li>Draw some pictures</li>
          	</ul>
          </aside>
        </section>

        <section>
          <h1>Example</h1>
          <ul>
          	<li>/characters</li>
          	<li>/characters/{character_id}</li>
          	<li>/dungeons</li>
          	<li>/dungeons/{dungeon_id}</li>
          	<li>/dungeons/{dungeon_id}/rooms/{room_id} ???</li>
          	<li>or</li>
          	<li>/rooms/{room_id} ???</li>
          </ul>
        </section>

        <section>
          <h1>User-Centric</h1>

          <aside class="notes">
          	<ul>
          		<li>What kind of clients will you support?</li>
							<li>Writing some client code for those URLs</li>
							<li>curl</li>
							<li>mobile</li>
							<li>SDKs</li>
							<li>Writing some mock server code for those URLs</li>
							<li>Flask</li>
          	</ul>
          </aside>
        </section>

        <section>
          <h1>Example</h1>
          <ul>
          	<li><a href="https://github.com/everett-toews/a-restful-adventure/blob/gh-pages/src/client/curl-id-design.sh">Client: curl</a></li>
          	<li><a href="https://github.com/everett-toews/a-restful-adventure/blob/gh-pages/src/client/dcrawler.py">Server: Flask</a></li>
          </ul>
        </section>

        <section id="break">
          <h1>Break</h1>
        </section>

        <section id="impl">
          <h1>Implement the Design</h1>
        </section>

        <section>
          <h1>Add slides about implementation here</h1>
        </section>

        <section id="conclusion">
          <h1>Conclusion</h1>
        </section>

        <section>
          <h1>Add slides about conclusion here</h1>
        </section>

        <section>
          <h1>Rackspace API Working Group</h1>
        </section>

        <section id="qa">
          <h1>Thanks!</h1>
          <h2>Q &amp; A</h2>
        </section>
			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
